<!DOCTYPE html>
	<html>
		<head>
			<title>Competitive Learners</title>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<link rel="icon" href="icon5.png" type="image/png">
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		</head>
		
		<script>
		let mult_lev = [[1,5],[3,10],[5,15],[5,20],[10,30]]		
		let add_sub_lev = [[1,10],[5,30],[20,60],[30,120],[40,210]]
		let div_lev = [[1,5],[3,8],[5,10],[8,15],[10,20]]
		let operator = ["+", "-", "x", "/"]
		let operatorNum = 0
		let x = 0
		let y = 0
		let z = 0
		let level = 0
		let length = 0
		function clearAnswer() {
			$("#answer").text("");
			$("#answer").removeClass("wrong");
			$("#answer").removeClass("success");
		}
		function getNums(range) {
			x = Math.floor( Math.random() *(range[1]+1-range[0]) ) + range[0];
			y = Math.floor( Math.random() *(range[1]+1-range[0]) ) + range[0];
			operatorNum = Math.floor(Math.random() * 4)			
			if (operatorNum == 0){
				z = x + y
			}
			else if (operatorNum == 1){
				z = x
				x = y + x
			}
			else if (operatorNum == 2){
				z = x * y
			}
			else if (operatorNum == 3){
				z = x
				x = y * x
			}
		};
		//Keyboard press
		$(this).on('keypress', function(event) {
			addNum(String.fromCharCode(event.keyCode));
		});
		//Delete
		function del() {
			let answer = $("#answer").text()
			$("#answer").text(String(answer).slice(0, answer.length - 1));
		};
		function addNum(num) {
			$("#answer").text($("#answer").text() + num)
			if ($("#answer").text().length == String(z).length) {
				if ($("#answer").text() == z) {
					runMath();
					$("#answer").addClass("success");
				}
				else {
					$("#answer").addClass("wrong");
				}
				
				setTimeout(clearAnswer, 100)
			}
		};
		//Problem Generator
		function runMath() {
			getNums(mult_lev[level])
			$("#problem").text(x + " " + operator[operatorNum] + " " + y + " = ")
		};
		//Level Select
		$(document).ready(function(){
			$(".levelSelect").click(function(){
				level = this.id
				$("#levelSelect").hide();
				$("#solveWindow").show();
				runMath();
			});
		});
		</script>
		<style>
			.orange {
				background-color: #ff4400;
			}
			.grey {
				background-color: #262626;
				color: white;
			}
			.white {
				background-color: white;
			}
			.pt-6 {
				margin-top: 200px;
			}
			.success {				
				background-color: lightGreen;
				color: green;
			}
			.wrong {				
				background-color: pink;
				color: red;
			}
			.keypad {
				font-size: 50px;
				border: 2px solid #555555;
				border-radius: 10px;
				padding: 5px;
			}
			
			
		</style>
		
		<body>
			<nav class="navbar navbar-expand-sm navbar-dark grey">
				<a class="navbar-brand" href="index.html">Competitive Learners</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="collapsibleNavbar">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link" href="math.html">Math</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#other stuff">other stuff</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#more stuff">more stuff</a>
						</li>
					</ul>
				</div>
			</nav>
			
			<div class="jumbotron white">
				<div id ="levelSelect">
					<h2> Select Level </h2>
					<div class="btn-group">
						<button id="0" type="button" class="btn btn-info levelSelect">Level 1</button>
						<button id="1" type="button" class="btn btn-info levelSelect">Level 2</button>
						<button id="2" type="button" class="btn btn-info levelSelect">Level 3</button>
						<button id="3" type="button" class="btn btn-info levelSelect">Level 4</button>
						<button id="4" type="button" class="btn btn-info levelSelect">Level 5</button>
					</div>
				</div>
				<div id="solveWindow" style="display: none">
					<ul class = "list-group list-group-horizontal ">
						<h1 id="problem" style="font-size:60px"></h1>
						<h1 style="font-size:60px">&nbsp;</h1>
						<h1 id ="answer" style="font-size:60px"></h1>
					</ul>
					<br>
					<div class="btn-group-vertical text">
						<div class="btn-group">
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(7)">&nbsp;7&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(8)">&nbsp;8&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(9)">&nbsp;9&nbsp;</button>
						</div>
						<div class="btn-group">
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(4)">&nbsp;4&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(5)">&nbsp;5&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(6)">&nbsp;6&nbsp;</button>
						</div>
						<div class="btn-group">
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(1)">&nbsp;1&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(2)">&nbsp;2&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(3)">&nbsp;3&nbsp;</button>
						</div>
						<div class="btn-group">
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="addNum(0)">&nbsp;0&nbsp;</button>
							<button type="button" class="btn btn-secondary btn-lg keypad" onclick="del()">del</button>
						</div>
					</div>
				</div>
			</div>
		</body>
		
		<script>
		</script>
	</html> 
